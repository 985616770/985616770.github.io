---
title: JavaScript-进阶
date: 2019-11-05 23:28:20
tags:
  - 进阶
  - JavaScript
categories: JavaScript
---
<!-- more -->
# 变量,作用域,内存

## 变量

> 数据

- 本质操作数据
- 使用一次,哪里需要写哪里

> 命名

- `$_字母数字` 为了维护代码,使用有意义的名字

> 关键字,保留字

- if for
- class

---

## 类型

- 七种基本类型
- 一种复杂类型

---

## 堆栈

> 栈(Stack)

- 空间分配一样(较小)
- 有序排放
  > 堆(Heap)
- 无序
- 地址保存在堆
- 内存较大

---

## 参数传递

都是按值传递

- 函数的参数的是复制对象的一份引用

---

## 作用域

> 变量起作用的区域范围

- 变量的生命周期
- 访问到变量

> - 全局作用域
> - 局部作用域(函数作用域)

### 作用域链

> 内层 => 外层 => 全局(window)

延长作用域链

- with

---

## 解析机制

这是 JavaScript 特性之一,当初困扰了老旧了

- var,声明式函数会提升到,当前作用域的顶部
- 函数声明在,变量声明之上
- 预解析分`<script>`标签进行

> JavaScript 解析代码

1. 预解析
2. 逐行读代码

---

## 垃圾回收机制

> 分类

- 标记清除(JavaScript)
- 引用计数清除

> 原理

- 找出没有使用的数据, 打上标记,周期性执行清除无用数据的策略

> 标记清除

- 离开作用域的值标记为可回收,垃圾收集期间删除环境中的变量
- 给不用的数据添加标记,回收

> 引用计数清除

- 跟踪引用次数
- 缺陷循环引用无法清除(因为依然保持引用),基于 C++ COM ,ie 早期版本使用引用计数清除
- 可以手动清除 `对象=null`

---

## 内存管理

- web 浏览器 < 桌面应用程序
- 进程与进程之间
- `对象=null`

##　